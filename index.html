<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Kokoro ‚Äî –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è –¥–≤–æ–∏—Ö</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      overscroll-behavior-y: none;
      background: linear-gradient(to bottom right, #fde2e4, #e0f7f1, #e6e6fa);
      font-family: 'Inter', sans-serif;
    }
    .page { display: none; }
    .page.active { display: block; }
    .animate-breathing {
      animation: breathing 3s ease-in-out infinite;
    }
    @keyframes breathing {
      0%,100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    .animate-fadeIn {
      animation: fadeIn 0.5s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
  </style>
</head>
<body class="text-gray-800">
  <!-- –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
  <div id="app" class="min-h-screen flex flex-col">
    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="notification" class="hidden fixed top-4 left-1/2 transform -translate-x-1/2 
         text-white px-4 py-2 rounded-xl shadow-lg z-50 opacity-0 
         transition-all duration-500"></div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü—ã -->
    <div id="pages" class="flex-grow"></div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav id="nav" class="bg-white/60 backdrop-blur-md p-4 flex justify-around border-t border-gray-200"></nav>
  </div>

  <script>
    // ===== –ö–æ–Ω—Ñ–∏–≥ —Å—Ç—Ä–∞–Ω–∏—Ü =====
    const pagesConfig = [
      {
        id: "login",
        title: "üíû Kokoro",
        color: "text-pink-500",
        extraClass: "text-4xl mb-6 animate-breathing",
        content: `
          <div class="text-center space-y-6">
            <p class="text-gray-600">–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è –¥–≤–æ–∏—Ö</p>
            <script async src="https://telegram.org/js/telegram-widget.js?22"
              data-telegram-login="KokoroBot"
              data-size="large"
              data-onauth="onTelegramAuth(user)"
              data-request-access="write">
            </script>
          </div>
        `,
        icon: "üíû"
      },
      {
        id: "home",
        title: "üè° –ì–ª–∞–≤–Ω–∞—è",
        color: "text-blue-500",
        content: `
          <p class="text-gray-600">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Kokoro! üíñ</p>
        `,
        icon: "üè°"
      },
      {
        id: "calendar",
        title: "üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å",
        color: "text-purple-500",
        content: `
          <div class="bg-white p-4 rounded-xl shadow-md">
            <p class="text-gray-600">–ó–¥–µ—Å—å –±—É–¥—É—Ç –¥–∞—Ç—ã –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è ‚ú®</p>
          </div>
        `,
        icon: "üìÖ"
      },
      {
        id: "chat",
        title: "üí¨ –ß–∞—Ç",
        color: "text-green-500",
        content: `
          <div class="bg-white p-4 rounded-xl shadow-md flex flex-col h-80">
            <div id="chat-messages" class="flex-grow overflow-y-auto space-y-2 text-gray-700">
              <p class="text-gray-400 text-sm">–í–∞—à —á–∞—Ç –ø–æ–∫–∞ –ø—É—Å—Ç...</p>
            </div>
            <div class="flex mt-2">
              <input type="text" id="chat-input" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." 
                     class="flex-grow p-2 border rounded-l-lg"/>
              <button id="chat-send" class="bg-pink-400 px-4 rounded-r-lg text-white">‚û§</button>
            </div>
          </div>
        `,
        icon: "üí¨"
      },
      {
        id: "diary",
        title: "üìñ –î–Ω–µ–≤–Ω–∏–∫ —ç–º–æ—Ü–∏–π",
        color: "text-pink-400",
        content: `
          <div class="bg-white p-4 rounded-xl shadow-md space-y-3">
            <textarea id="mood-input" rows="3" placeholder="–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ–º..." 
              class="w-full p-2 border rounded-lg"></textarea>
            <button id="mood-save" class="bg-pink-400 text-white px-4 py-2 rounded-lg">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          </div>
        `,
        icon: "üìñ"
      }
    ];

    // ===== –†–µ–Ω–¥–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü =====
    const pagesContainer = document.getElementById("pages");
    const navContainer = document.getElementById("nav");

    pagesConfig.forEach((page, i) => {
      const div = document.createElement("div");
      div.id = "page-" + page.id;
      div.className = "page p-6 animate-fadeIn";
      if (i === 0) div.classList.add("active"); // —Å—Ç–∞—Ä—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
      div.innerHTML = `
        <h2 class="font-bold ${page.color} ${page.extraClass || 'text-2xl mb-6'}">
          ${page.title}
        </h2>
        ${page.content}
      `;
      pagesContainer.appendChild(div);

      if (page.icon) {
        const btn = document.createElement("button");
        btn.dataset.page = page.id;
        btn.className = "text-gray-500 hover:text-pink-500 transition";
        btn.textContent = page.icon;
        navContainer.appendChild(btn);
      }
    });

    // ===== –ù–∞–≤–∏–≥–∞—Ü–∏—è =====
    function navigate(pageId) {
      document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
      document.getElementById("page-" + pageId).classList.add("active");
    }

    document.querySelectorAll("nav button").forEach(btn => {
      btn.addEventListener("click", () => {
        navigate(btn.dataset.page);
      });
    });

    // ===== –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è =====
    function showNotification(message, type = "info") {
      const notification = document.getElementById("notification");
      notification.className = "fixed top-4 left-1/2 transform -translate-x-1/2 
        text-white px-4 py-2 rounded-xl shadow-lg z-50 transition-all duration-500";
      notification.textContent = message;
      if (type === "error") {
        notification.classList.add("bg-red-500");
      } else {
        notification.classList.add("bg-pink-400");
      }
      notification.classList.remove("hidden", "opacity-0");
      notification.classList.add("opacity-100");
      setTimeout(() => {
        notification.classList.add("opacity-0");
        setTimeout(() => notification.classList.add("hidden"), 500);
      }, 2000);
    }

    // ===== Telegram Login Callback =====
    function onTelegramAuth(user) {
      showNotification(`–ü—Ä–∏–≤–µ—Ç, ${user.first_name}! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Kokoro üíñ`);
      navigate("home");
    }

    // ===== –õ–æ–≥–∏–∫–∞ —á–∞—Ç–∞ =====
    document.addEventListener("click", e => {
      if (e.target.id === "chat-send") {
        const input = document.getElementById("chat-input");
        if (input.value.trim()) {
          const msg = document.createElement("div");
          msg.className = "bg-pink-100 p-2 rounded-lg text-sm self-end";
          msg.textContent = input.value;
          document.getElementById("chat-messages").appendChild(msg);
          input.value = "";
        }
      }
      if (e.target.id === "mood-save") {
        const mood = document.getElementById("mood-input").value.trim();
        if (mood) {
          showNotification("–≠–º–æ—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ üíñ");
          document.getElementById("mood-input").value = "";
        } else {
          showNotification("–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —ç–º–æ—Ü–∏–∏", "error");
        }
      }
    });
  </script>
</body>
</html>

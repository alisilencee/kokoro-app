<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Kokoro ‚Äî –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è –¥–≤–æ–∏—Ö</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes breathing {
      0%, 100% { transform: scale(1); opacity: 0.9; }
      50% { transform: scale(1.05); opacity: 1; }
    }
    .animate-breathing {
      animation: breathing 4s ease-in-out infinite;
    }
  </style>
</head>
<body class="bg-pink-50 flex items-center justify-center min-h-screen">
  <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
  <div id="notification" class="hidden"></div>

  <!-- –°—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω -->
  <div id="app" class="w-full max-w-md bg-white shadow-2xl rounded-2xl p-6 text-center">
    <h1 class="text-3xl font-bold text-pink-500 mb-4 animate-breathing">Kokoro üíñ</h1>
    <p class="mb-6 text-gray-600">–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è –¥–≤–æ–∏—Ö</p>
    
    <!-- Telegram Login -->
    <script async src="https://telegram.org/js/telegram-widget.js?22"
      data-telegram-login="MyKokoroAppBot"
      data-size="large"
      data-onauth="onTelegramAuth(user)"
      data-request-access="write">
    </script>
  </div>

  <script>
    const app = document.getElementById("app");
    const notification = document.getElementById("notification");

    // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    function showNotification(message, isError = false) {
      notification.textContent = message;
      notification.className = "fixed top-4 left-1/2 transform -translate-x-1/2 text-white px-4 py-2 rounded-xl shadow-lg z-50 transition-all duration-500";
      notification.classList.add(isError ? "bg-red-600" : "bg-pink-500");
      notification.classList.remove("hidden");
      setTimeout(() => notification.classList.add("hidden"), 3000);
    }

    // –ù–∞–≤–∏–≥–∞—Ü–∏—è
    function navigate(page) {
      const pages = {
        home: homePage,
        calendar: calendarPage,
        chat: chatPage,
        diary: diaryPage,
        games: gamesPage,
        rituals: ritualsPage
      };
      if (pages[page]) {
        app.innerHTML = pages[page]();
        initNav();
      } else {
        showNotification("–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞", true);
      }
    }

    function initNav() {
      document.querySelectorAll("nav button").forEach(btn => {
        btn.addEventListener("click", () => navigate(btn.dataset.page));
      });
    }

    // –°—Ç—Ä–∞–Ω–∏—Ü—ã
    const homePage = () => `
      <h2 class="text-2xl font-semibold text-pink-500 mb-4">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Kokoro üíñ</h2>
      <p class="mb-6 text-gray-600">–í—ã–±–µ—Ä–∏, —á—Ç–æ —Ö–æ—á–µ—à—å —Å–¥–µ–ª–∞—Ç—å –≤–º–µ—Å—Ç–µ —Å–µ–≥–æ–¥–Ω—è</p>
      <nav class="grid grid-cols-2 gap-4">
        <button data-page="calendar" class="bg-pink-100 rounded-xl py-4">üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å</button>
        <button data-page="chat" class="bg-blue-100 rounded-xl py-4">üíå –ß–∞—Ç</button>
        <button data-page="diary" class="bg-green-100 rounded-xl py-4">üìñ –î–Ω–µ–≤–Ω–∏–∫ —ç–º–æ—Ü–∏–π</button>
        <button data-page="games" class="bg-yellow-100 rounded-xl py-4">üéÆ –ò–≥—Ä—ã</button>
        <button data-page="rituals" class="bg-purple-100 rounded-xl py-4 col-span-2">üå∏ –†–∏—Ç—É–∞–ª—ã</button>
      </nav>
    `;

    const calendarPage = () => `
      <h2 class="text-xl font-bold text-pink-500 mb-4">–°–æ–≤–º–µ—Å—Ç–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å üìÖ</h2>
      <p class="text-gray-600">–ó–¥–µ—Å—å –±—É–¥—É—Ç –≤–∞–∂–Ω—ã–µ –¥–∞—Ç—ã –∏ –ø–ª–∞–Ω—ã.</p>
      <nav class="mt-6"><button data-page="home" class="text-pink-500">‚¨Ö –ù–∞–∑–∞–¥</button></nav>
    `;

    const chatPage = () => `
      <h2 class="text-xl font-bold text-blue-500 mb-4">–õ–∏—á–Ω—ã–π —á–∞—Ç üíå</h2>
      <p class="text-gray-600">–ó–¥–µ—Å—å –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –∏ –¥–µ–ª–∏—Ç—å—Å—è —Ñ–æ—Ç–æ/–≥–æ–ª–æ—Å–æ–≤—ã–º–∏.</p>
      <nav class="mt-6"><button data-page="home" class="text-blue-500">‚¨Ö –ù–∞–∑–∞–¥</button></nav>
    `;

    const diaryPage = () => `
      <h2 class="text-xl font-bold text-green-500 mb-4">–î–Ω–µ–≤–Ω–∏–∫ —ç–º–æ—Ü–∏–π üìñ</h2>
      <p class="text-gray-600">–ó–¥–µ—Å—å –≤—ã —Å–º–æ–∂–µ—Ç–µ –¥–µ–ª–∏—Ç—å—Å—è —Å–≤–æ–∏–º –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ–º.</p>
      <nav class="mt-6"><button data-page="home" class="text-green-500">‚¨Ö –ù–∞–∑–∞–¥</button></nav>
    `;

    const gamesPage = () => `
      <h2 class="text-xl font-bold text-yellow-500 mb-4">–ò–≥—Ä—ã –¥–ª—è –¥–≤–æ–∏—Ö üéÆ</h2>
      <ul class="text-left text-gray-600 list-disc list-inside">
        <li>–§–æ—Ç–æ-–∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏</li>
        <li>–ß–∏—Å–ª–æ–≤–æ–π —á–µ–ª–ª–µ–Ω–¥–∂</li>
        <li>–ü—Ä–∞–≤–¥–∞ –∏–ª–∏ –¥–µ–π—Å—Ç–≤–∏–µ</li>
      </ul>
      <nav class="mt-6"><button data-page="home" class="text-yellow-500">‚¨Ö –ù–∞–∑–∞–¥</button></nav>
    `;

    const ritualsPage = () => `
      <h2 class="text-xl font-bold text-purple-500 mb-4">–†–∏—Ç—É–∞–ª—ã üå∏</h2>
      <ul class="text-left text-gray-600 list-disc list-inside">
        <li>¬´–î—É–º–∞—é –æ —Ç–µ–±–µ¬ª</li>
        <li>¬´–î—ã—Ö–∞–Ω–∏–µ –≤–º–µ—Å—Ç–µ¬ª <div class="animate-breathing mt-2 w-12 h-12 bg-purple-200 rounded-full mx-auto"></div></li>
        <li>¬´–°–µ–∫—Ä–µ—Ç–Ω–æ–µ –ø–∏—Å—å–º–æ¬ª</li>
      </ul>
      <nav class="mt-6"><button data-page="home" class="text-purple-500">‚¨Ö –ù–∞–∑–∞–¥</button></nav>
    `;

    // Telegram auth
    function onTelegramAuth(user) {
      showNotification(`–ü—Ä–∏–≤–µ—Ç, ${user.first_name}! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Kokoro üíñ`);
      navigate("home");
    }
  </script>
</body>
</html>
